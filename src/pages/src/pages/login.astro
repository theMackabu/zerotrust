---
import Footer from '@/components/footer.astro';
import Base, { app } from '@/components/base.astro';
import { Github, Twitter } from '@/components/buttons';

const service_name = "{{service_name}}";
const email_placeholder = "{{email_placeholder}}";
const password_placeholder = "{{password_placeholder}}";

const alert = `{% if logged_in %}
<meta http-equiv="refresh" content="2; url='/'" />
<alert class="top-3 right-3 absolute rounded-md bg-green-50 p-4 text-sm font-medium text-green-800 ring-1 ring-green-100 shadow-sm">
   Logged in, redirecting you to {{service_name}}
</alert>
{% endif %}`
---

<!DOCTYPE html>
<html lang="en">
   <head><Base title={service_name + " | Sign in to continue"} /></head>
   <Fragment set:html={alert} />
   <div class="grid grid-cols-1 h-screen place-items-center">
     <div class="sm:mx-auto w-full sm:max-w-md p-4 sm:p-12 justify-center">
       <img class="h-10 w-auto" src={app.logo} alt={app.name}>
       <h2 class="mt-6 text-left text-2xl font-bold leading-9 tracking-tight text-zinc-900">Sign in to your account</h2>
       <h3 class="-mt-1 text-left text-base font-semibold leading-9 tracking-tight text-zinc-600">Continue to {service_name}</h3>
       <div class="mt-5">
         <form class="space-y-6" method="POST">
           <div>
             <label for="email" class="block text-sm font-medium leading-6 text-zinc-900">Email address</label>
             <div class="mt-1">
               <input __login_status value={email_placeholder} id="email" name="email" type="email" autocomplete="email" placeholder="james@bond.com" required class={`transition block w-full rounded-md border-0 py-1.5 text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 placeholder:text-zinc-400 focus:ring-2 focus:ring-inset focus:ring-${app.accent}-600 sm:text-sm sm:leading-6 disabled:opacity-70`}>
             </div>
           </div>
           <div>
             <label for="password" class="block text-sm font-medium leading-6 text-zinc-900">Password</label>
             <div class="mt-1">
               <input __login_status value={password_placeholder} id="password" name="password" type="password" autocomplete="current-password" placeholder="••••••••" required class={`transition block w-full rounded-md border-0 py-1.5 text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 placeholder:text-zinc-400 focus:ring-2 focus:ring-inset focus:ring-${app.accent}-600 sm:text-sm sm:leading-6 disabled:opacity-70`}>
             </div>
           </div>
   
           <div class="flex items-center justify-between">
             <div class="flex items-center">
               <input __login_status __is_checked id="remember" name="remember" type="checkbox" class={`transition h-4 w-4 rounded border-zinc-300 text-${app.accent}-600 focus:ring-${app.accent}-600 disabled:opacity-70`}>
               <label for="remember" class="ml-3 block text-sm leading-6 text-zinc-900">Remember me</label>
             </div>
   
             <div class="text-sm leading-6">
               <a href="#" class={`transition font-semibold text-${app.accent}-600 hover:text-${app.accent}-500`}>Forgot password?</a>
             </div>
           </div>
   
           <div>
             <button __login_status type="submit" class={`transition flex w-full justify-center rounded-md bg-${app.accent}-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-${app.accent}-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-${app.accent}-600 disabled:cursor-default disabled:bg-${app.accent}-500 disabled:opacity-80 disabled:hover:opacity-80`}>{"{% if logged_in %}Logging in...{% else %}Sign in{% endif %}"}</button>
           </div>
         </form>
   
         <div>
           <div class="relative mt-10">
             <div class="absolute inset-0 flex items-center" aria-hidden="true">
               <div class="w-full border-t border-zinc-200"></div>
             </div>
             <div class="relative flex justify-center text-sm font-medium leading-6">
               <span class="bg-white px-6 text-zinc-900">Or continue with</span>
             </div>
           </div>
   
           <div class="mt-6 grid grid-cols-2 gap-4"><Twitter /><Github /></div>
         </div>
       </div>
     </div>
     <Footer />
   </div>
</html>